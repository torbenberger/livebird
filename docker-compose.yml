
services:
  gpio:
    depends_on:
      - backend
    hostname: gpio
    restart: always
    privileged: true
    build:
      context: ./
      dockerfile: ./gpio/Dockerfile
    volumes:
      - ./gpio:/app/gpio
  backend:
    hostname: backend
    restart: always
    build:
      context: ./
      dockerfile: ./backend/Dockerfile
    privileged: true
    ports:
      - "5555:5555"
    volumes:
      - ./backend/app:/app/backend/app
      - ./backend/.node-persist:/app/backend/.node-persist
    devices:
      - /dev:/dev
