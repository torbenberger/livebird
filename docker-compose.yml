
services:
  python:
    depends_on:
      - backend
    hostname: gpio
    restart: always
    privileged: true
    build:
      context: ./
      dockerfile: python/Dockerfile
    volumes:
      - ./python:/app/python
  backend:
    hostname: backend
    restart: always
    build:
      context: ./
      dockerfile: ./backend/Dockerfile
    privileged: true
    ports:
      - "5555:5555"
    volumes:
      - ./backend/app:/app/backend/app
      - ./backend/.node-persist:/app/backend/.node-persist
      - /sys/class/gpio:/sys/class/gpio
    devices:
      - /dev:/dev
